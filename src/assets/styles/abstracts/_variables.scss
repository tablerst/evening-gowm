@use 'sass:map';
@use 'functions' as *;

// ==========================================================================
// Design Tokens
// ==========================================================================

// --------------------------------------------------------------------------
// Colors (Primitive) - Converted to OKLCH
// --------------------------------------------------------------------------

$color-purple-50: hex-to-oklch(#f6f2f8);
$color-purple-100: hex-to-oklch(#e9dff5);
$color-purple-500: hex-to-oklch(#a78bbf);
$color-purple-700: hex-to-oklch(#5b3a7a);
$color-purple-900: oklch(20% 0.1 290); // 新增深色模式背景

$color-gold-100: hex-to-oklch(#f4e8d0);
$color-gold-400: hex-to-oklch(#c8a667);
$color-gold-600: hex-to-oklch(#b89a5a);

$color-neutral-0: hex-to-oklch(#ffffff);
$color-neutral-50: hex-to-oklch(#faf7fb);
$color-neutral-200: hex-to-oklch(#d8d2e0);
$color-neutral-500: hex-to-oklch(#6f6577);
$color-neutral-800: hex-to-oklch(#2b2730);

// --------------------------------------------------------------------------
// Typography
// --------------------------------------------------------------------------

$font-family-base:
  'Source Han Sans SC',
  'Noto Sans SC',
  system-ui,
  -apple-system,
  BlinkMacSystemFont,
  'Segoe UI',
  sans-serif;
$font-family-serif: 'Playfair Display', 'Cormorant Garamond', 'Times New Roman', serif;
$font-family-english:
  'Inter',
  'SF Pro Text',
  -apple-system,
  BlinkMacSystemFont,
  'Segoe UI',
  sans-serif;

$font-size-xs: 0.75rem; // 12px
$font-size-sm: 0.875rem; // 14px
$font-size-md: 1rem; // 16px
$font-size-lg: 1.125rem; // 18px
$font-size-xl: 1.5rem; // 24px
$font-size-2xl: 2rem; // 32px
$font-size-3xl: 2.5rem; // 40px
$font-size-4xl: 3.5rem; // 56px

$line-height-tight: 1.2;
$line-height-normal: 1.5;
$line-height-loose: 1.7;

// --------------------------------------------------------------------------
// Spacing
// --------------------------------------------------------------------------

$space-0: 0;
$space-1: 0.25rem; // 4px
$space-2: 0.5rem; // 8px
$space-3: 0.75rem; // 12px
$space-4: 1rem; // 16px
$space-5: 1.5rem; // 24px
$space-6: 2rem; // 32px
$space-7: 3rem; // 48px
$space-8: 4rem; // 64px
$space-9: 5rem; // 80px

// --------------------------------------------------------------------------
// Layout
// --------------------------------------------------------------------------

$container-max-width: 1200px;
$container-narrow: 840px;
$grid-columns: 12;
$grid-gap: $space-5;

// --------------------------------------------------------------------------
// Radius & Shadow
// --------------------------------------------------------------------------

$radius-sm: 4px;
$radius-md: 8px;
$radius-lg: 16px;
$radius-xl: 24px;
$radius-pill: 999px;

$shadow-sm: 0 4px 10px rgba(0, 0, 0, 0.04);
$shadow-md: 0 10px 30px rgba(15, 10, 40, 0.12);
$shadow-soft: 0 18px 45px rgba(20, 8, 40, 0.18);

// --------------------------------------------------------------------------
// Motion
// --------------------------------------------------------------------------

$ease-out: cubic-bezier(0.25, 0.8, 0.25, 1);
$duration-base: 0.3s;

// --------------------------------------------------------------------------
// CSS Variables Map (Semantic)
// --------------------------------------------------------------------------

$theme-light: (
  'bg-page': $color-purple-50,
  'bg-section-alt': $color-neutral-0,
  'bg-hero': $color-purple-100,
  'bg-card': $color-neutral-0,

  'brand-primary': $color-purple-500,
  'brand-dark': $color-purple-700,
  'brand-accent': $color-gold-400,

  'text-primary': $color-neutral-800,
  'text-secondary': $color-neutral-500,
  'text-inverse': $color-neutral-0,

  'border-subtle': $color-neutral-200,
  'border-emphas': $color-gold-400,
);

$theme-dark: (
  'bg-page': $color-purple-900,
  'bg-section-alt': $color-neutral-800,
  'bg-hero': $color-purple-700,
  'bg-card': $color-neutral-800,

  'brand-primary': $color-purple-500,
  'brand-dark': $color-purple-100,
  // 反转
  'brand-accent': $color-gold-400,

  'text-primary': $color-purple-50,
  // 浅色文字
  'text-secondary': $color-neutral-200,
  'text-inverse': $color-neutral-800,

  'border-subtle': $color-neutral-500,
  'border-emphas': $color-gold-600,
);

@mixin spread-map($map) {
  @each $key, $value in $map {
    --color-#{$key}: #{$value};
  }
}

:root {
  @include spread-map($theme-light);

  // Spacing (Static)
  --space-4: #{$space-4};
  --space-5: #{$space-5};

  // Font (Static)
  --font-family-base: #{$font-family-base};
  --font-family-serif: #{$font-family-serif};
}

[data-theme='dark'] {
  @include spread-map($theme-dark);
}
