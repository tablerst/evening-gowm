# Copy this file to .env (do NOT commit .env)
# This example intentionally contains NO real secrets.

# ---- Application ----
APP_HOST=0.0.0.0
APP_PORT=8080

# ---- Logging ----
# Logs are written to LOG_DIR/LOG_FILE with rotation enabled by default.
LOG_LEVEL=info
LOG_DIR=logs
LOG_FILE=app.log
LOG_FORMAT=json
LOG_TO_STDOUT=true

# Rotation (lumberjack)
LOG_MAX_SIZE_MB=50
LOG_MAX_BACKUPS=10
LOG_MAX_AGE_DAYS=14
LOG_COMPRESS=true

# ---- CORS (optional) ----
# CORS_ALLOW_ORIGINS=https://example.com,https://admin.example.com

# ---- Debug (optional) ----
# ENABLE_PPROF=false

# ---- PostgreSQL ----
# Set to empty to disable Postgres (public APIs may still work, admin/business APIs disabled)
# Example:
# POSTGRES_DSN=postgres://postgres:postgres@localhost:5432/app?sslmode=disable
POSTGRES_DSN=
POSTGRES_MAX_CONNS=30
POSTGRES_MIN_CONNS=5
POSTGRES_MAX_CONN_LIFETIME=1h

# ---- Redis ----
# Set REDIS_ADDR empty to disable Redis
# Example: REDIS_ADDR=localhost:6379
REDIS_ADDR=
REDIS_PASSWORD=
REDIS_DB=0
REDIS_POOL_SIZE=10
REDIS_DIAL_TIMEOUT=5s

# ---- MinIO / S3 ----
# Set MINIO_ENDPOINT empty to disable MinIO
# Example: MINIO_ENDPOINT=localhost:9000
MINIO_ENDPOINT=
MINIO_ACCESS_KEY=
MINIO_SECRET_KEY=
MINIO_USE_SSL=false
MINIO_REGION=
MINIO_BUCKET=

# MinIO public base url (optional). When set, public URL = {MINIO_PUBLIC_BASE_URL}/{MINIO_BUCKET}/{objectKey}
# Example: http://localhost:9000 or https://cdn.example.com
MINIO_PUBLIC_BASE_URL=

# ---- JWT ----
# Set JWT_SECRET empty to disable JWT (admin APIs disabled)
JWT_SECRET=
JWT_ISSUER=evening-gown
JWT_AUDIENCE=
# Access token TTL (short-lived). When expired, frontend will call /api/v1/admin/auth/refresh once.
JWT_EXPIRES_IN=15m
# Refresh token TTL (long-lived)
JWT_REFRESH_EXPIRES_IN=720h

# ---- Admin (single super admin) ----
# Used only when bootstrapping the very first admin user.
# Password must be at least 10 chars.
ADMIN_EMAIL=admin@example.com
ADMIN_PASSWORD=change-me-now

# Development-only (unsafe in production)
ENABLE_DEV_TOKEN_ISSUER=false

# ---- Upload limits ----
# Default: 1048576 (1MB)
MAX_IMAGE_UPLOAD_BYTES=1048576
